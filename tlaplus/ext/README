The ext directory contains packages that had to be patched slightly. Below are the patches made.

The following extensions listed in the cabal file are for parsec-3
  ExistentialQuantification 
  PolymorphicComponents 
  MultiParamTypeClasses
  FlexibleInstances
  FlexibleContexts


############################################################
#### parsec-3.0.0/Text/ParserCombinators/Parsec/Expr.hs ####
############################################################

--- Expr.hs~    2008-12-22 21:24:39.000000000 -0800
+++ Expr.hs     2008-12-22 22:21:56.000000000 -0800
@@ -27,6 +27,8 @@
 
 data Operator tok st a   = Infix  (GenParser tok st (a -> a -> a)) Assoc
                          | Prefix (GenParser tok st (a -> a))
+-- NOTE kramer@acm.org reto -- the Postfix arm was missing in the compat module
+                         | Postfix (GenParser tok st (a -> a))
 
 type OperatorTable tok st a = [[Operator tok st a]]



#########################################
#### parsec-3.0.0/Text/Parsec/Pos.hs ####
#########################################

--- Pos.hs~     2008-12-22 21:24:39.000000000 -0800
+++ Pos.hs      2008-12-22 21:28:10.000000000 -0800
@@ -14,7 +14,7 @@
 
 module Text.Parsec.Pos
     ( SourceName, Line, Column
-    , SourcePos
+    , SourcePos(SourcePos)
     , sourceLine, sourceColumn, sourceName
     , incSourceLine, incSourceColumn
     , setSourceLine, setSourceColumn, setSourceName
yoghurt:~/sdev/tlaplus/ext/parsec-3.0.0/Text/Parsec reto$ 



###########################################################
#### parsec-3.0.0/Text/ParserCombinators/Parsec/Pos.hs ####
###########################################################

--- Pos.hs~     2008-12-22 21:24:39.000000000 -0800
+++ Pos.hs      2008-12-22 22:22:56.000000000 -0800
@@ -16,7 +16,9 @@
     ( SourceName,
       Line,
       Column,
-      SourcePos,
+-- NOTE kramer@acm.org reto -- export SourcePos constructor, 
+-- previosuly opaque SourcePos type was exported only.
+      SourcePos(SourcePos),
       sourceLine,
       sourceColumn,
       sourceName,
